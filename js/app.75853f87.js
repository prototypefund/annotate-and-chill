!function(e){function t(t){for(var r,i,c=t[0],u=t[1],l=t[2],f=0,m=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(s&&s(t);m.length;)m.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=function(e){return i.p+"js/"+({}[e]||e)+"."+{2:"e686485e"}[e]+".chunk.js"}(e);var u=new Error;o=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",u.name="ChunkLoadError",u.type=r,u.request=o,n[1](u)}a[e]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var s=u;o.push([829,1]),n()}({502:function(e,t){},504:function(e,t){},536:function(e,t){},537:function(e,t){},579:function(e,t){e.exports="<h1>page title</h1> <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p> "},580:function(e,t){e.exports="<h1>help</h1> <p>foo</p> "},788:function(e,t){},789:function(e,t){},790:function(e,t){},791:function(e,t){},821:function(e,t,n){var r=n(202),a=n(822);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},822:function(e,t,n){(t=n(203)(!1)).push([e.i,".Annotation--hilighted{background-color:rgba(0,0,0,.1) !important}",""]),e.exports=t},823:function(e,t,n){var r=n(202),a=n(824);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},824:function(e,t,n){(t=n(203)(!1)).push([e.i,'.PdfViewer{display:flex}.PdfViewer .react-pdf__Document{display:flex;flex-direction:column;align-items:center}.PdfViewer .react-pdf__Page{max-width:calc(~"100% - 2em");box-shadow:0 0 2px rgba(0,0,0,.5)}.PdfViewer .react-pdf__Page canvas{max-width:100%;height:auto !important}.PdfViewer .react-pdf__message{padding:20px;color:#fff}',""]),e.exports=t},825:function(e,t,n){var r=n(202),a=n(826);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},826:function(e,t,n){(t=n(203)(!1)).push([e.i,".DrawRect{top:50%;left:50%;transform:translate(-50%, -50%);position:absolute}",""]),e.exports=t},827:function(e,t,n){var r=n(202),a=n(828);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},828:function(e,t,n){(t=n(203)(!1)).push([e.i,".AnnotationForm__close-button{position:absolute;right:-1em;top:-1em;z-index:100}",""]),e.exports=t},829:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(104),i=n.n(o),c=n(5),u=(n(43),n(96),n(108),n(76),n(50),n(109),n(110),n(111),n(112),n(113),n(39),n(170),n(227),n(316),n(114),n(228),n(850)),l=n(212),s=n.n(l);n(77),n(78),n(229),n(79),n(80),n(60),n(492),n(81),n(61),n(493),n(495),n(82),n(83),n(497),n(84);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if("object"===d(e)){void 0!==t&&(e.uid=t);var n="rct"===e.type?e.location.join(","):e.location;return"".concat(e.uid,":").concat(e.page,":").concat(e.type,":").concat(n)}if(void 0!==t){var r=e.split(":",1);return e.replace(r,t)}return e}function b(e){if(e){var t=f(e.split(":"),4),n=t[0],r=t[1],a=t[2],o=t[3];return{uid:n,page:parseInt(r,10),type:a,location:"rct"===a?o.split(",").map((function(e){return parseFloat(e)})):o}}return{}}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){var t=e.reference,n=e.body;return t&&n};function O(e){return new Promise((function(t){var n=[];s.a.parse(e,{worker:!0,header:!0,step:function(e){return h(e.data)&&n.push(e.data)},complete:function(){return t(function(e){return e.map((function(e){return v(v({},e),{},{reference:b(e.reference)})}))}(n))}})}))}function j(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S={uid:void 0,current:Object(c.d)((function(e){return e.data[e.uid]||[]})),user:{},data:{},error:!1,isLoadingCsv:!1,loadCsvStart:Object(c.b)((function(e){e.isLoadingCsv=!0})),loadCsvSuccess:Object(c.b)((function(e,t){var n=t.data;n=n.map((function(t){return w(w({},e.user),t)})),e.data[e.uid]=n,e.isLoadingCsv=!1})),loadDataFail:Object(c.b)((function(e,t){throw e.data[e.uid]=[],e.error=t,e.isLoadingCsv=!1,Error(t)})),importCsv:Object(c.g)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.file,a=n.replace,t.loadCsvStart(),O(r).then((function(e){return t.loadCsvSuccess({data:e,replace:a})}));case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){j(o,r,a,i,c,"next",e)}function c(e){j(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}()),createAnnotation:Object(c.b)((function(e,t){t=w(w({id:Object(u.a)(),date:new Date},e.user),t),e.data[e.uid].push(t)})),deleteAnnotation:Object(c.b)((function(e,t){var n=t.id;e.data[e.uid]=e.data[e.uid].filter((function(e){return e.id!==n}))})),onDocumentLoaded:Object(c.c)((function(e,t){return t.document.loadDocumentSuccess}),(function(e,t){var n=t.payload;e.uid=n.uid,e.data[e.uid]=e.data[e.uid]||[]})),onUserLogin:Object(c.c)((function(e,t){return t.user.update}),(function(e,t){var n=t.payload,r=n.email,a=n.firstName,o=n.lastName;e.user={email:r,firstName:a,lastName:o}}))},A=n(432),C=n.n(A);function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"md5",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hex";return new Promise((function(r){var a=C.a.createHash(t);e.text().then((function(e){a.update(e,"utf8"),r(a.digest(n))}))}))}function N(){var e=Math.round,t=Math.random;return{r:e(255*t()),g:e(255*t()),b:e(255*t())}}function x(e){var t=e.r,n=void 0===t?0:t,r=e.g,a=void 0===r?0:r,o=e.b,i=void 0===o?0:o,c=e.a,u=void 0===c?1:c;return"rgba(".concat(n,", ").concat(a,", ").concat(i,", ").concat(u,")")}function k(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}var I={data:{},pagesNum:1,renderedPages:0,renderPagesComplete:Object(c.d)((function(e){return e.renderedPages===e.pagesNum})),error:null,isLoading:!1,loadStart:Object(c.b)((function(e){e.isLoading=!0})),loadDocumentSuccess:Object(c.b)((function(e,t){e.data=t,e.isLoading=!1})),loadDocumentFail:Object(c.b)((function(e,t){e.data=null,e.error=t,e.isLoading=!1})),loadDocument:Object(c.g)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loadStart();try{D(n).then((function(e){return t.loadDocumentSuccess({file:n,uid:e})}))}catch(e){t.loadDocumentFail(e)}case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){k(o,r,a,i,c,"next",e)}function c(e){k(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}()),setPagesNum:Object(c.b)((function(e,t){e.pagesNum=t})),incrementRenderedPages:Object(c.b)((function(e){e.renderedPages+=1})),clear:Object(c.b)((function(e){e.data={},e.renderedPages=0,e.pagesNum=1}))},_={uid:void 0,page:1,type:"rct",location:[0,0,0,0],refStr:Object(c.d)((function(e){return p({uid:e.uid,page:e.page,type:e.type,location:e.location})})),reference:Object(c.d)((function(e){return{uid:e.uid,page:e.page,type:e.type,location:e.location}})),updateRef:Object(c.b)((function(e,t){var n=t.page,r=t.type,a=t.location;n&&(e.page=n),r&&(e.type=r),a&&(e.location=a)})),onDocumentLoaded:Object(c.c)((function(e,t){return t.document.loadDocumentSuccess}),(function(e,t){var n=t.payload;e.uid=n.uid}))};function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M={email:void 0,firstName:void 0,lastName:void 0,color:N(),name:Object(c.d)((function(e){return e.firstName})),exists:Object(c.d)((function(e){return!!e.email})),otherUsers:{},update:Object(c.b)((function(e,t){var n=t.email,r=t.firstName,a=t.lastName,o=t.color;n&&(e.email=n),r&&(e.firstName=r),a&&(e.lastName=a),o&&(e.color=o)})),updateOtherUsers:Object(c.b)((function(e,t){t.data.map((function(t){return t.email!==e.email&&(e.otherUsers[t.email]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({email:t.email,firstName:t.firstName,lastName:t.lastName,color:N()},e.otherUsers[t.email])),t}))})),onLoadCsvSuccess:Object(c.h)((function(e,t){return t.annotations.loadCsvSuccess}),(function(e,t){var n=t.payload;return e.updateOtherUsers(n)}))};function R(e){e&&e.getContext("2d").clearRect(0,0,e.width,e.height)}function T(e){var t=e.height,n=e.width,r=e.startX,a=e.startY,o=e.endX,i=e.endY,c=(r<o?r:o)/n,u=(a<i?a:i)/t;return[c,u,c+Math.abs(o-r)/n,u+Math.abs(i-a)/t].map((function(e){return Math.round(100*e)}))}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Y={annotations:{show:!1,hilighted:void 0,toggle:Object(c.b)((function(e,t){void 0===t&&(t=!e.annotationForm.show),e.show=t})),hilight:Object(c.b)((function(e,t){e.hilighted=t}))},annotationForm:{show:!1,position:[0,0],toggle:Object(c.b)((function(e,t){void 0===t&&(t=!e.show),e.show=t})),setPosition:Object(c.b)((function(e,t){var n=U(t,2),r=n[0],a=n[1];e.position=[r,a]}))},draw:{activeCanvas:void 0,setActiveCanvas:Object(c.b)((function(e,t){e.activeCanvas=t})),clearCanvas:Object(c.b)((function(e){return R(e.activeCanvas)}))},importer:{show:!1,toggle:Object(c.b)((function(e,t){void 0===t&&(t=!e.show),e.show=t}))},onCreateAnnotation:Object(c.h)((function(e,t){return t.annotations.createAnnotation}),(function(e){var t=e.draw,n=e.annotationForm;return t.clearCanvas()&&n.toggle(!1)})),onLoadCsvSuccess:Object(c.h)((function(e,t){return t.annotations.loadCsvSuccess}),(function(e){return e.importer.toggle(!1)}))};function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $={pages:[{slug:"about",title:"About",icon:"info",content:n(579)},{slug:"help",title:"Help",icon:"help",content:n(580)}],activePage:void 0,activeSlug:Object(c.d)((function(e){var t;return null===(t=e.activePage)||void 0===t?void 0:t.slug})),selectPage:Object(c.b)((function(e,t){if(t){var n=H(e.pages.filter((function(e){return e.slug===t})),1);e.activePage=n[0]}else e.activePage=void 0})),hidePages:Object(c.h)((function(e,t){return t.document.clear}),(function(e){return e.selectPage(void 0)}))},z={storage:"localStorage"},q={annotations:Object(c.f)(S,z),document:I,pages:$,reference:_,ui:Y,user:Object(c.f)(M,z)},B=Object(c.e)(q),J=n(845),W=n(852),G=n(131),K=n(851),Q=n(847),Z=n(846),ee=n(433);function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie=function(e){var t=e.data,n=e.updateData,r=t.firstName,o=t.lastName,i=t.email,c=t.color;return a.a.createElement(Q.a,{className:"ProfileForm"},a.a.createElement(Q.a.Field,null,a.a.createElement("label",{htmlFor:"email"},"Email"),a.a.createElement("input",{id:"email",placeholder:"you@example.org",value:i,onChange:function(e){return n(ae(ae({},t),{},{email:e.target.value}))}})),a.a.createElement(Q.a.Field,null,a.a.createElement("label",{htmlFor:"firstName"},"First Name"),a.a.createElement("input",{id:"firstName",placeholder:"First Name",value:r,onChange:function(e){return n(ae(ae({},t),{},{firstName:e.target.value}))}})),a.a.createElement(Q.a.Field,null,a.a.createElement("label",{htmlFor:"lastName"},"Last Name"),a.a.createElement("input",{id:"lastName",placeholder:"Last Name",value:o,onChange:function(e){return n(ae(ae({},t),{},{lastName:e.target.value}))}})),a.a.createElement(Q.a.Field,null,a.a.createElement("label",{htmlFor:"color"},"Choose your color"),a.a.createElement(ee.CirclePicker,{color:c,onChange:function(e){var r=e.rgb;return n(ae(ae({},t),{},{color:r}))}})))},ce=function(e){var t=e.children,n=e.open,r=e.setOpen,o=e.onSubmit;return a.a.createElement(Z.a,{onClose:function(){return r(!1)},onOpen:function(){return r(!0)},open:n,dimmer:"blurring"},a.a.createElement(Z.a.Header,null,"Hi!"),a.a.createElement(Z.a.Content,null,a.a.createElement(Z.a.Description,null,a.a.createElement("p",null,"Tell me who you are so I can assign annotations to you.")),t),a.a.createElement(Z.a.Actions,null,a.a.createElement(K.a,{content:"Save",labelPosition:"right",icon:"checkmark",onClick:o,positive:!0})))},ue=function(){var e=Object(c.j)((function(e){return e.user})),t=e.exists,n=e.name,o=e.firstName,i=void 0===o?"":o,u=e.lastName,l=void 0===u?"":u,s=e.email,f=void 0===s?"":s,m=e.color,d=void 0===m?"":m,p=te(Object(r.useState)(!t),2),b=p[0],g=p[1],v=Object(c.i)((function(e){return e.user.update})),y=te(Object(r.useState)({firstName:i,lastName:l,email:f,color:d}),2),h=y[0],O=y[1];return a.a.createElement("div",{className:"Profile"},t&&a.a.createElement("p",null,"Hi ",n," ",a.a.createElement(K.a,{circular:!0,icon:"wrench",onClick:function(){return g(!0)}})),a.a.createElement(ce,{open:b,setOpen:g,onSubmit:function(){return function(e){return v(e)&&g(!1)}(h)}},a.a.createElement(ie,{data:h,updateData:O})))},le=n(848),se=function(){var e=Object(c.j)((function(e){return e.pages})),t=e.pages,n=e.activeSlug,r=Object(c.i)((function(e){return e.pages})).selectPage;return a.a.createElement(le.a,{item:!0,icon:"bars",simple:!0},a.a.createElement(le.a.Menu,null,t.map((function(e){var t=e.slug,o=e.title,i=e.icon;return a.a.createElement(le.a.Item,{key:t,active:t===n,onClick:function(){return r(t)}},a.a.createElement(G.a,{name:i}),o)})),n&&a.a.createElement(a.a.Fragment,null,a.a.createElement(le.a.Divider,null),a.a.createElement(le.a.Item,{onClick:function(){return r()}},a.a.createElement(G.a,{name:"angle double left"}),"Back"))))},fe=function(e){var t=e.data,n="data:text/csv;base64,".concat(btoa(unescape(encodeURIComponent(function(e){return s.a.unparse(e.filter(h).map((function(e){return v(v({},e),{},{reference:p(e.reference)})})))}(t)))));return a.a.createElement("div",{className:"CsvExporter"},a.a.createElement(K.a,{disabled:0===t.length,color:t.length>0?"red":null,as:"a",download:"annotations.csv",href:n},a.a.createElement(G.a,{name:"download"}),t.length))},me=function(){var e=Object(c.j)((function(e){return e.document.data})).file,t=Object(c.j)((function(e){return e.annotations.current})),n=Object(c.i)((function(e){return e.document})).clear,r=Object(c.i)((function(e){return e.ui.importer.toggle}));return a.a.createElement(W.a,null,a.a.createElement(W.a.Item,{header:!0},"Annotate & chill"),(null==e?void 0:e.name)&&a.a.createElement(a.a.Fragment,null,a.a.createElement(W.a.Item,null,a.a.createElement(G.a,{name:"pdf file"}),a.a.createElement(K.a,{icon:!0,labelPosition:"right",onClick:n},e.name,a.a.createElement(G.a,{name:"close"}))),a.a.createElement(W.a.Item,null,a.a.createElement(fe,{data:t})),a.a.createElement(W.a.Item,null,a.a.createElement(K.a,{primary:!0,onClick:function(){return r(!0)}},a.a.createElement(G.a,{name:"upload"})," CSV"))),a.a.createElement(W.a.Menu,{position:"right"},a.a.createElement(W.a.Item,null,a.a.createElement(ue,null)),a.a.createElement(se,null)))},de=n(854),pe=n(855),be=n(841),ge=function(e){var t=e.html;return a.a.createElement("p",{dangerouslySetInnerHTML:{__html:t}})},ve=function(e){var t=e.page,n=Object(c.i)((function(e){return e.pages})).selectPage;return a.a.createElement(de.a,{className:"Page"},a.a.createElement(pe.a,null,a.a.createElement(pe.a.Section,{link:!0,onClick:function(){return n()}},"A & C"),a.a.createElement(pe.a.Divider,null),a.a.createElement(pe.a.Section,{active:!0},t.title)),a.a.createElement(be.a,null),a.a.createElement(ge,{html:t.content}))},ye=(n(424),n(128)),he=n(853),Oe=n(842),je=n(856);function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var we=function(){var e=Object(c.i)((function(e){return e.document.loadDocument})),t=Object(c.j)((function(e){return e.document.isLoading})),n=Object(r.useCallback)((function(t){return e(t[0])}),[e]),o=Object(ye.a)({onDrop:n}),i=o.getRootProps,u=o.getInputProps,l=o.isDragActive;return a.a.createElement("div",Ee({className:"DocumentLoader"},i()),a.a.createElement(de.a,{placeholder:!0},t?a.a.createElement(he.a,{active:!0,inverted:!0},a.a.createElement(Oe.a,{inverted:!0},"Loading")):a.a.createElement(je.a,{icon:!0},a.a.createElement(G.a,{name:"pdf file outline"}),a.a.createElement("input",u()),l?a.a.createElement("p",null,"Drop the file here ..."):a.a.createElement("p",null,"Drag 'n' drop a document here, or click to select a file. Currently only PDF is supported."))))},Pe=n(843),Se=function(){var e=Object(c.j)((function(e){return e.document})),t=e.pagesNum,n=e.renderedPages,r=e.renderPagesComplete,o=e.data,i=Object(c.i)((function(e){return e.document})).clear;return a.a.createElement(Z.a,{basic:!0,open:o.file&&!r,size:"small",dimmer:"blurring"},a.a.createElement(je.a,{icon:!0},a.a.createElement(G.a,{name:"paint brush",loading:!0}),"Rendering pages"),a.a.createElement(Z.a.Content,null,a.a.createElement(Pe.a,{value:n,total:t,progress:"ratio",indicating:!0})),a.a.createElement(Z.a.Actions,null,a.a.createElement(K.a,{basic:!0,color:"red",inverted:!0,onClick:function(){return i()}},a.a.createElement(G.a,{name:"remove"})," Cancel")))},Ae=n(281),Ce=n(844);function De(){return a.a.createElement(he.a,{active:!0,inverted:!0},a.a.createElement(Oe.a,{inverted:!0},"Loading"))}var Ne=n(849),xe=n(457),ke=n.n(xe),Ie=(n(821),function(e){var t,n=e.data,r=Object(c.i)((function(e){return e.annotations})).deleteAnnotation,o=Object(c.i)((function(e){return e.ui.annotations})).hilight,i=Object(c.j)((function(e){return e.ui.annotations})).hilighted,u=Object(c.j)((function(e){return e.user})),l=u.email,s=u.color,f=u.otherUsers,m=l===n.email,d=m?"Me":"".concat(n.firstName," ").concat(n.lastName),p=x(m?s:(null===(t=f[n.email])||void 0===t?void 0:t.color)||N()),b=new Date(n.date),g=ke()("Annotation",{"Annotation--hilighted":i===n.id});return a.a.createElement(Ne.a,{className:g,onMouseOver:function(){return o(n.id)},onMouseOut:function(){return o(null)}},a.a.createElement(Ne.a.Content,null,a.a.createElement(Ne.a.Author,{style:{color:p}},d),a.a.createElement(Ne.a.Metadata,null,b.toDateString()," ",b.toLocaleTimeString()),a.a.createElement(Ne.a.Text,null,n.body),a.a.createElement(Ne.a.Actions,null,a.a.createElement(Ne.a.Action,{onClick:function(){return r(n)}},a.a.createElement(G.a,{name:"trash"}),"Delete"))))}),_e=function(e){var t=e.annotations;return(null==t?void 0:t.length)>0&&a.a.createElement(de.a,{className:"Annotations"},a.a.createElement(Ne.a.Group,null,t.map((function(e){return a.a.createElement(Ie,{key:e.id,data:e})}))))};function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ue=function(e){var t,n=e.annotation,r=e.hilighted,o=Object(c.j)((function(e){return e.user})),i=o.email,u=o.color,l=o.otherUsers,s=Object(c.i)((function(e){return e.ui.annotations})).hilight,f=i===n.email?u:(null===(t=l[n.email])||void 0===t?void 0:t.color)||N(),m=Re(n.reference.location,4),d=m[0],p=m[1],b=m[2],g=m[3],v={display:"block",position:"absolute",border:r?"2px solid ".concat(x(f)):null,background:x(Fe(Fe({},f),{},{a:.1})),top:"".concat(p,"%"),left:"".concat(d,"%"),width:"".concat(b-d,"%"),height:"".concat(g-p,"%")};return a.a.createElement("div",{className:"AnnotationLocation",style:v,onMouseOver:function(){return s(n.id)},onMouseOut:function(){return s(null)}})};n(823),n(825);function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ze=function(e){var t=e.options,n=e.file,o=Object(c.j)((function(e){return e.annotations.current})),i=Object(c.j)((function(e){return e.ui.annotations})).hilighted,u=Object(c.i)((function(e){return e.ui})),l=u.annotationForm,s=u.draw,f=Object(c.i)((function(e){return e.reference.updateRef})),m=Object(c.j)((function(e){return e.document})).pagesNum,d=Object(c.i)((function(e){return e.document})),p=d.setPagesNum,b=d.incrementRenderedPages,g=Object(r.createRef)(),v=Ve(Object(r.useState)({isDrawing:!1,width:null,height:null,offsetX:null,offsetY:null,page:1}),2),y=v[0],h=v[1],O=Object(r.useRef)(y),j=function(e){e=Ye(Ye({},O.current),e),O.current=e,h(e)};return a.a.createElement("div",{className:"PdfViewer"},a.a.createElement(Ae.Document,{ref:g,file:n,loading:De,onLoadSuccess:function(e){var t=e.numPages;return p(t)},options:t},Array.from(new Array(m),(function(e,t){var n,c=t+1,u=Object(r.createRef)();return a.a.createElement(Ae.Page,{key:"page_".concat(c),pageNumber:c,loading:De,onRenderSuccess:function(e){return function(e,t){var n=Ve(e._pageInfo.view.slice(2),2),r=n[0],a=n[1],o=t.current;o.height=a,o.width=r;var i=o.getContext("2d"),c=g.current.pages[e.pageIndex];c.addEventListener("mousedown",(function(t){var n=t.target,r=t.offsetX,a=t.offsetY;n===o&&(l.toggle(!1),s.setActiveCanvas(o),j({startX:r,startY:a,endX:r,endY:a,isDrawing:!0,page:e.pageIndex+1,height:n.height,width:n.width}))})),c.addEventListener("mouseup",(function(e){var t=e.target,n=e.pageX,r=e.pageY,a=e.offsetX,i=e.offsetY;t===o&&(l.toggle(!0),l.setPosition([r,n]),j({isDrawing:!1,endX:a,endY:i}),f({location:T(O.current),page:O.current.page}))})),c.addEventListener("mousemove",(function(e){var t=e.target,n=e.offsetX,r=e.offsetY;if(t===o&&O.current.isDrawing){var a=O.current,c=a.startX,u=a.startY,l=c<n?c:n,s=u<r?u:r,f=Math.abs(n-c),m=Math.abs(r-u);R(o),function(e){var t=e.ctx,n=e.x,r=e.y,a=e.rectWidth,o=e.rectHeight;t.beginPath(),t.rect(n,r,a,o),t.stroke()}({ctx:i,x:l,y:s,rectWidth:f,rectHeight:m})}})),b()}(e,u)},renderAnnotationLayer:!1,renderTextLayer:!1},a.a.createElement("canvas",{className:"DrawRect",ref:u}),(n=c,o.filter((function(e){return e.reference.page===n})).map((function(e){return a.a.createElement(Ue,{key:e.id,annotation:e,hilighted:i===e.id})}))),a.a.createElement(Ce.a,{position:"right"},a.a.createElement(_e,{annotations:o.filter((function(e){return e.reference.page===c}))})))}))))},qe=function(e){var t=e.file;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Se,null),a.a.createElement(de.a,{className:"DocumentViewer"},function(e){var t=e.type;return"application/pdf"===t?a.a.createElement(ze,{file:e}):a.a.createElement("p",null,"unsupported format: ",t)}(t)))},Be=n(840);n(827);function Je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return We(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ge=function(){var e=Object(c.i)((function(e){return e.annotations})).createAnnotation,t=Object(c.i)((function(e){return e.ui})),n=t.annotationForm,o=t.draw,i=Je(Object(c.j)((function(e){return e.ui.annotationForm.position})),2),u=i[0],l=i[1],s=Object(c.j)((function(e){return e.reference})).reference,f=Je(Object(r.useState)(""),2),m=f[0],d=f[1],p={position:"absolute",zIndex:1e3,top:u,left:l};return a.a.createElement(de.a,{className:"AnnotationForm",raised:!0,style:p},a.a.createElement(K.a,{className:"AnnotationForm__close-button",circular:!0,size:"mini",icon:"close",color:"red",onClick:function(){return n.toggle(!1)&&o.clearCanvas()}}),a.a.createElement(Q.a,{className:"AnnotationForm__form"},a.a.createElement(Be.a,{value:m,onChange:function(e){return d(e.target.value)}}),a.a.createElement(K.a,{className:"AnnotationForm__button",primary:!0,onClick:function(){return e({body:m,reference:s})&&d("")}},"Save")))},Ke=n(839);function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tt=function(){var e=Ze(Object(r.useState)(!1),2),t=e[0],n=e[1],o=Object(r.useRef)(t),i=Object(c.i)((function(e){return e.annotations.importCsv})),u=Object(c.j)((function(e){return e.annotations.isLoadingCsv})),l=Object(r.useCallback)((function(e){return i({file:e[0],replace:o.current})}),[i]),s=Object(ye.a)({onDrop:l}),f=s.getRootProps,m=s.getInputProps,d=s.isDragActive;return a.a.createElement("div",{className:"CsvImporter"},a.a.createElement("div",Qe({className:"CsvImporter__dropzone"},f()),a.a.createElement(de.a,{placeholder:!0},u?a.a.createElement(he.a,{active:!0,inverted:!0},a.a.createElement(Oe.a,{inverted:!0},"Loading")):a.a.createElement(je.a,{icon:!0},a.a.createElement(G.a,{name:"file outline"}),a.a.createElement("input",m()),d?a.a.createElement("p",null,"Drop the file here ..."):a.a.createElement("p",null,"Drag 'n' drop a csv file here, or click to select a file")))),a.a.createElement(Ke.a,{label:"Replace existing annotations (instead of merging)",checked:t,onChange:function(){return n(!t)}}))},nt=function(e){var t=e.children,n=e.open,r=e.setOpen;return a.a.createElement(Z.a,{onClose:function(){return r(!1)},onOpen:function(){return r(!0)},open:n,dimmer:"blurring"},a.a.createElement(Z.a.Header,null,"Import annotations from csv"),a.a.createElement(Z.a.Content,null,t))},rt=function(){var e=Object(c.j)((function(e){return e.document.data})).file,t=Object(c.j)((function(e){return e.pages})).activePage,n=Object(c.j)((function(e){return e.ui.annotationForm.show})),r=Object(c.j)((function(e){return e.ui.importer.show})),o=Object(c.i)((function(e){return e.ui.importer.toggle}));return a.a.createElement(J.a,null,a.a.createElement(me,null),t?a.a.createElement(ve,{page:t}):a.a.createElement(a.a.Fragment,null,n&&a.a.createElement(Ge,null),e?a.a.createElement(qe,{file:e}):a.a.createElement(we,null)),a.a.createElement(nt,{open:r,setOpen:o},a.a.createElement(tt,null)))};i.a.render(a.a.createElement(c.a,{store:B},a.a.createElement(rt,null)),document.getElementById("root"))}});