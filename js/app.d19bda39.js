!function(e){function t(t){for(var r,i,c=t[0],u=t[1],l=t[2],f=0,m=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(s&&s(t);m.length;)m.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=function(e){return i.p+"js/"+({}[e]||e)+"."+{2:"6fd27f06"}[e]+".chunk.js"}(e);var u=new Error;o=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",u.name="ChunkLoadError",u.type=r,u.request=o,n[1](u)}a[e]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var s=u;o.push([808,1]),n()}({451:function(e,t,n){var r=n(101),a=n(452);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},452:function(e,t,n){(t=n(102)(!1)).push([e.i,"body{background-color:#d3d3d3}",""]),e.exports=t},483:function(e,t){},485:function(e,t){},517:function(e,t){},518:function(e,t){},560:function(e,t){e.exports="<h1>page title</h1> <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p> "},561:function(e,t){e.exports="<h1>help</h1> <p>foo</p> "},765:function(e,t){},766:function(e,t){},767:function(e,t){},768:function(e,t){},798:function(e,t,n){var r=n(101),a=n(799);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},799:function(e,t,n){(t=n(102)(!1)).push([e.i,".Annotation--hilighted{background-color:rgba(0,0,0,.1) !important}",""]),e.exports=t},800:function(e,t,n){var r=n(101),a=n(801);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},801:function(e,t,n){(t=n(102)(!1)).push([e.i,'.PdfViewer{display:flex}.PdfViewer .react-pdf__Document{display:flex;flex-direction:column;align-items:center}.PdfViewer .react-pdf__Page{max-width:calc(~"100% - 2em");box-shadow:0 0 2px rgba(0,0,0,.5);margin-bottom:1em}.PdfViewer .react-pdf__Page canvas{max-width:100%;height:auto !important}.PdfViewer .react-pdf__message{padding:20px;color:#fff}',""]),e.exports=t},802:function(e,t,n){var r=n(101),a=n(803);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},803:function(e,t,n){(t=n(102)(!1)).push([e.i,".DrawRect{top:50%;left:50%;transform:translate(-50%, -50%);position:absolute}",""]),e.exports=t},804:function(e,t,n){var r=n(101),a=n(805);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},805:function(e,t,n){(t=n(102)(!1)).push([e.i,".DocumentViewer{padding:0 !important}",""]),e.exports=t},806:function(e,t,n){var r=n(101),a=n(807);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},807:function(e,t,n){(t=n(102)(!1)).push([e.i,".AnnotationForm{padding:0 !important;width:250px}.AnnotationForm__close-button{position:absolute;right:-1em;top:-1em;z-index:100}",""]),e.exports=t},808:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(100),i=n.n(o),c=n(6),u=(n(451),n(47),n(93),n(106),n(94),n(51),n(107),n(108),n(109),n(110),n(111),n(42),n(169),n(216),n(307),n(112),n(217),n(832)),l=n(200),s=n.n(l);n(77),n(78),n(218),n(79),n(80),n(62),n(473),n(63),n(64),n(474),n(476),n(81),n(82),n(478),n(83);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if("object"===d(e)){void 0!==t&&(e.uid=t);var n="rct"===e.type?e.location.join(","):e.location;return"".concat(e.uid,":").concat(e.page,":").concat(e.type,":").concat(n)}if(void 0!==t){var r=e.split(":",1);return e.replace(r,t)}return e}function g(e){if(e){var t=f(e.split(":"),4),n=t[0],r=t[1],a=t[2],o=t[3];return{uid:n,page:parseInt(r,10),type:a,location:"rct"===a?o.split(",").map((function(e){return parseFloat(e)})):o}}return{}}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(e){var t=e.reference,n=e.body;return t&&n};function L(e){return new Promise((function(t){var n=[];s.a.parse(e,{worker:!0,header:!0,step:function(e){return M(e.data)&&n.push(e.data)},complete:function(){return t(function(e){return e.map((function(e){return y(y({},e),{},{reference:g(e.reference)})}))}(n))}})}))}function v(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N={uid:void 0,current:Object(c.d)((function(e){return e.data[e.uid]||[]})),user:{},data:{},error:!1,isLoadingCsv:!1,loadCsvStart:Object(c.b)((function(e){e.isLoadingCsv=!0})),loadCsvSuccess:Object(c.b)((function(e,t){var n=t.data;n=n.map((function(t){return h(h({},e.user),t)})),e.data[e.uid]=n,e.isLoadingCsv=!1})),loadDataFail:Object(c.b)((function(e,t){throw e.data[e.uid]=[],e.error=t,e.isLoadingCsv=!1,Error(t)})),importCsv:Object(c.g)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.file,a=n.replace,t.loadCsvStart(),L(r).then((function(e){return t.loadCsvSuccess({data:e,replace:a})}));case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,c,"next",e)}function c(e){v(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}()),createAnnotation:Object(c.b)((function(e,t){t=h(h({id:Object(u.a)(),date:new Date},e.user),t),e.data[e.uid].push(t)})),deleteAnnotation:Object(c.b)((function(e,t){var n=t.id;e.data[e.uid]=e.data[e.uid].filter((function(e){return e.id!==n}))})),onDocumentLoaded:Object(c.c)((function(e,t){return t.document.loadDocumentSuccess}),(function(e,t){var n=t.payload;e.uid=n.uid,e.data[e.uid]=e.data[e.uid]||[]})),onUserLogin:Object(c.c)((function(e,t){return t.user.update}),(function(e,t){var n=t.payload,r=n.email,a=n.firstName,o=n.lastName;e.user={email:r,firstName:a,lastName:o}}))},C=n(417),E=n.n(C);function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"md5",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hex";return new Promise((function(r){var a=E.a.createHash(t);e.text().then((function(e){a.update(e,"utf8"),r(a.digest(n))}))}))}function D(){var e=Math.round,t=Math.random;return{r:e(255*t()),g:e(255*t()),b:e(255*t())}}function S(e){var t=e.r,n=void 0===t?0:t,r=e.g,a=void 0===r?0:r,o=e.b,i=void 0===o?0:o,c=e.a,u=void 0===c?1:c;return"rgba(".concat(n,", ").concat(a,", ").concat(i,", ").concat(u,")")}function T(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}var x={data:{},pagesNum:1,renderedPages:0,renderPagesComplete:Object(c.d)((function(e){return e.renderedPages>=e.pagesNum})),error:null,isLoading:!1,loadStart:Object(c.b)((function(e){e.isLoading=!0})),loadDocumentSuccess:Object(c.b)((function(e,t){e.data=t,e.isLoading=!1})),loadDocumentFail:Object(c.b)((function(e,t){e.data=null,e.error=t,e.isLoading=!1})),loadDocument:Object(c.g)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loadStart();try{I(n).then((function(e){return t.loadDocumentSuccess({file:n,uid:e})}))}catch(e){t.loadDocumentFail(e)}case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,c,"next",e)}function c(e){T(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}()),setPagesNum:Object(c.b)((function(e,t){e.pagesNum=t})),incrementRenderedPages:Object(c.b)((function(e){e.renderedPages+=1})),clear:Object(c.b)((function(e){e.data={},e.renderedPages=0,e.pagesNum=1}))},A={uid:void 0,page:1,type:"rct",location:[0,0,0,0],refStr:Object(c.d)((function(e){return p({uid:e.uid,page:e.page,type:e.type,location:e.location})})),reference:Object(c.d)((function(e){return{uid:e.uid,page:e.page,type:e.type,location:e.location}})),updateRef:Object(c.b)((function(e,t){var n=t.page,r=t.type,a=t.location;n&&(e.page=n),r&&(e.type=r),a&&(e.location=a)})),onDocumentLoaded:Object(c.c)((function(e,t){return t.document.loadDocumentSuccess}),(function(e,t){var n=t.payload;e.uid=n.uid}))},P=n(155),z=n.n(P);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#607d8b"],U={email:void 0,firstName:void 0,lastName:void 0,color:z()(Q[Math.floor(Math.random()*Q.length)]).toRgb(),colors:Q,name:Object(c.d)((function(e){return e.firstName})),exists:Object(c.d)((function(e){return!!e.email})),otherUsers:{},update:Object(c.b)((function(e,t){var n=t.email,r=t.firstName,a=t.lastName,o=t.color;n&&(e.email=n),r&&(e.firstName=r),a&&(e.lastName=a),o&&(e.color=o)})),updateOtherUsers:Object(c.b)((function(e,t){t.data.map((function(t){return t.email!==e.email&&(e.otherUsers[t.email]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({email:t.email,firstName:t.firstName,lastName:t.lastName,color:D()},e.otherUsers[t.email])),t}))})),onLoadCsvSuccess:Object(c.h)((function(e,t){return t.annotations.loadCsvSuccess}),(function(e,t){var n=t.payload;return e.updateOtherUsers(n)}))};function G(e){e&&e.getContext("2d").clearRect(0,0,e.width,e.height)}function F(e){var t=e.height,n=e.width,r=e.startX,a=e.startY,o=e.endX,i=e.endY,c=(r<o?r:o)/n,u=(a<i?a:i)/t;return[c,u,c+Math.abs(o-r)/n,u+Math.abs(i-a)/t].map((function(e){return Math.round(100*e)}))}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _={annotations:{show:!1,hilighted:void 0,toggle:Object(c.b)((function(e,t){void 0===t&&(t=!e.annotationForm.show),e.show=t})),hilight:Object(c.b)((function(e,t){e.hilighted=t}))},annotationForm:{show:!1,position:[0,0],toggle:Object(c.b)((function(e,t){void 0===t&&(t=!e.show),e.show=t})),setPosition:Object(c.b)((function(e,t){var n=R(t,2),r=n[0],a=n[1];e.position=[r,a]}))},draw:{activeCanvas:void 0,setActiveCanvas:Object(c.b)((function(e,t){e.activeCanvas=t})),clearCanvas:Object(c.b)((function(e){return G(e.activeCanvas)}))},importer:{show:!1,toggle:Object(c.b)((function(e,t){void 0===t&&(t=!e.show),e.show=t}))},onCreateAnnotation:Object(c.h)((function(e,t){return t.annotations.createAnnotation}),(function(e){var t=e.draw,n=e.annotationForm;return t.clearCanvas()&&n.toggle(!1)})),onLoadCsvSuccess:Object(c.h)((function(e,t){return t.annotations.loadCsvSuccess}),(function(e){return e.importer.toggle(!1)}))};function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X={pages:[{slug:"about",title:"About",icon:"info",content:n(560)},{slug:"help",title:"Help",icon:"help",content:n(561)}],activePage:void 0,activeSlug:Object(c.d)((function(e){var t;return null===(t=e.activePage)||void 0===t?void 0:t.slug})),selectPage:Object(c.b)((function(e,t){if(t){var n=B(e.pages.filter((function(e){return e.slug===t})),1);e.activePage=n[0]}else e.activePage=void 0})),hidePages:Object(c.h)((function(e,t){return t.document.clear}),(function(e){return e.selectPage(void 0)}))},Z={storage:"localStorage"},W={annotations:Object(c.f)(N,Z),document:x,pages:X,reference:A,ui:_,user:Object(c.f)(U,Z)},V=Object(c.e)(W),K=n(821),$=n(836),q=n(834),ee=n(827),te=n(833),ne=n(91),re=n(826),ae=n(829),oe=n(418);function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(e){var t=e.data,n=e.updateData,r=e.colors,o=t.firstName,i=t.lastName,c=t.email,u=t.color;return a.a.createElement(re.a,{className:"ProfileForm"},a.a.createElement(re.a.Field,null,a.a.createElement("label",{htmlFor:"email"},"Email"),a.a.createElement("input",{id:"email",placeholder:"you@example.org",value:c,onChange:function(e){return n(le(le({},t),{},{email:e.target.value}))}})),a.a.createElement(re.a.Field,null,a.a.createElement("label",{htmlFor:"firstName"},"First Name"),a.a.createElement("input",{id:"firstName",placeholder:"First Name",value:o,onChange:function(e){return n(le(le({},t),{},{firstName:e.target.value}))}})),a.a.createElement(re.a.Field,null,a.a.createElement("label",{htmlFor:"lastName"},"Last Name"),a.a.createElement("input",{id:"lastName",placeholder:"Last Name",value:i,onChange:function(e){return n(le(le({},t),{},{lastName:e.target.value}))}})),a.a.createElement(re.a.Field,null,a.a.createElement("label",{htmlFor:"color"},"Choose your color"),a.a.createElement(oe.CirclePicker,{colors:r,color:u,onChange:function(e){var r=e.rgb;return n(le(le({},t),{},{color:r}))}})))},me=function(e){var t=e.children,n=e.open,r=e.setOpen,o=e.onSubmit;return a.a.createElement(ae.a,{onClose:function(){return r(!1)},onOpen:function(){return r(!0)},open:n,dimmer:"blurring"},a.a.createElement(ae.a.Header,null,"Hi!"),a.a.createElement(ae.a.Content,null,a.a.createElement(ae.a.Description,null,a.a.createElement("p",null,"Tell me who you are so I can assign annotations to you.")),t),a.a.createElement(ae.a.Actions,null,a.a.createElement(te.a,{content:"Save",labelPosition:"right",icon:"checkmark",onClick:o,positive:!0})))},de=function(){var e=Object(c.j)((function(e){return e.user})),t=e.exists,n=e.name,o=e.color,i=e.colors,u=e.firstName,l=void 0===u?"":u,s=e.lastName,f=void 0===s?"":s,m=e.email,d=void 0===m?"":m,p=ie(Object(r.useState)(!t),2),g=p[0],j=p[1],y=Object(c.i)((function(e){return e.user.update})),b=ie(Object(r.useState)({firstName:l,lastName:f,email:d,color:o}),2),M=b[0],L=b[1];return a.a.createElement("div",{className:"Profile"},t&&a.a.createElement("p",null,"Hi ",n," ",a.a.createElement(te.a,{circular:!0,icon:"wrench",style:{backgroundColor:S(o),color:z.a.mostReadable(o,["grey","darkgrey","lightgrey","white","black"]).toHexString()},onClick:function(){return j(!0)}})),a.a.createElement(me,{open:g,setOpen:j,onSubmit:function(){return function(e){return y(e)&&j(!1)}(M)}},a.a.createElement(fe,{data:M,updateData:L,colors:i})))},pe=function(e){var t=e.data,n="data:text/csv;base64,".concat(btoa(unescape(encodeURIComponent(function(e){return s.a.unparse(e.filter(M).map((function(e){return y(y({},e),{},{reference:p(e.reference)})})))}(t)))));return a.a.createElement("div",{className:"CsvExporter"},a.a.createElement(te.a,{disabled:0===t.length,color:t.length>0?"red":null,as:"a",download:"annotations.csv",href:n},a.a.createElement(ne.a,{name:"download"}),t.length))},ge=function(){var e=Object(c.j)((function(e){return e.document.data})).file,t=Object(c.j)((function(e){return e.annotations.current})),n=Object(c.i)((function(e){return e.document})).clear,r=Object(c.i)((function(e){return e.ui.importer.toggle})),o=(null==e?void 0:e.name.length)>40,i=o?"".concat(null==e?void 0:e.name.slice(0,40),"..."):null==e?void 0:e.name,u=a.a.createElement($.a,{className:"Header__filename"},i);return a.a.createElement(q.a,{className:"Header"},a.a.createElement(q.a.Item,{header:!0},"Annotate & chill"),(null==e?void 0:e.name)&&a.a.createElement(a.a.Fragment,null,a.a.createElement(q.a.Item,null,o?a.a.createElement(ee.a,{content:e.name,trigger:u,position:"bottom center"}):u),a.a.createElement(q.a.Item,null,a.a.createElement(te.a,{icon:!0,labelPosition:"right",onClick:n},"New",a.a.createElement(ne.a,{name:"pdf file"}))),a.a.createElement(q.a.Item,null,a.a.createElement(pe,{data:t})),a.a.createElement(q.a.Item,null,a.a.createElement(te.a,{primary:!0,onClick:function(){return r(!0)}},a.a.createElement(ne.a,{name:"upload"})," CSV"))),a.a.createElement(q.a.Menu,{position:"right"},a.a.createElement(q.a.Item,null,a.a.createElement(de,null))))},je=n(837),ye=n(838),be=n(830),Me=n(438),Le=n.p+"fd20a6b8a91763b1c9cbaf94d29a3365.svg",ve=function(e){var t=e.toBottom;return a.a.createElement(K.a,{fluid:!0,className:"Footer",style:t?{position:"absolute",bottom:0}:null},a.a.createElement(je.a,{vertical:!0,style:{padding:"5em 0em",color:"grey"}},a.a.createElement(K.a,null,a.a.createElement(ye.a,{divided:!0,stackable:!0},a.a.createElement(ye.a.Row,null,a.a.createElement(ye.a.Column,{width:8},a.a.createElement($.a,{as:"h4",content:"Annotate & Chill",style:{color:"grey "}}),a.a.createElement("p",null,'"Annotate & Chill" was created by Simon Wörpel and financed by the'," ",a.a.createElement("a",{href:"https://www.bmbf.de/en/index.html"},"German Federal Ministry of Education")," ","and Research as part of their funding for Open-source software with the"," ",a.a.createElement("a",{href:"https://prototypefund.de/en/"},"Prototype Fund"),"."),a.a.createElement("p",null,"Simon Wörpel is an investigative data journalist, independent researcher and leak librarian. His work is focused on computer assisted investigative reporting, document/leak processing and data wrangling."),a.a.createElement($.a,{as:"h4",content:"Contact",style:{color:"grey "}}),a.a.createElement(be.a,{link:!0},a.a.createElement(be.a.Item,{as:"a",href:"https://github.com/simonwoerpel/annotate-and-chill/"},a.a.createElement(ne.a,{name:"github"}),"Github"),a.a.createElement(be.a.Item,{as:"a",href:"https://twitter.com/simonwoerpel"},a.a.createElement(ne.a,{name:"twitter"}),"@simonwoerpel"),a.a.createElement(be.a.Item,{as:"a",mailto:"simon.woerpel@medienrevolte.de"},a.a.createElement(ne.a,{name:"mail"}),"simon.woerpel@medienrevolte.de"),a.a.createElement(be.a.Item,{as:"a",href:"https://medienrevolte.de"},a.a.createElement(ne.a,{name:"linkify"}),"medienrevolte.de"),a.a.createElement(be.a.Item,{as:"a",href:"https://medienrevolte.de/impressum/"},a.a.createElement(ne.a,{name:"legal"}),"Impress"))),a.a.createElement(ye.a.Column,{width:8},a.a.createElement($.a,{as:"h4",content:"Funding",style:{color:"grey"}}),a.a.createElement("p",null,'The project "Annotate & Chill" was funded as part of the platform "Boromeo" by the German Ministry of Education and Research under the funding reference number 01IS19S19. The author is responsible for the content of this publication.'),a.a.createElement(Me.a.Group,{size:"small"},a.a.createElement(Me.a,null,a.a.createElement(Le,null)),a.a.createElement(Me.a,null,a.a.createElement("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA4NTQuMiAzNzQuNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgODU0LjIgMzc0LjQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojMUQxRDFCO30KCS5zdDF7ZmlsbDojMDA5QUNFO30KPC9zdHlsZT4KPGcgaWQ9IkViZW5lXzIiPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yNC45LDI2LjJsMzYuNCwwYzI4LjcsMCw1My4xLDE0LjMsNTMuMSw0Mi44YzAsMzAuMi0yNiw0NC01NSw0NEg0NC4zbDAsNTMuMUgyNC45TDI0LjksMjYuMnogTTQ0LjEsOTYuNyAgICAgbDE1LjMtMC4yQzcyLjIsOTYuNSw5NCw5MS45LDk0LDY5YzAtMjEuOS0yMS4xLTI2LjctMzIuNC0yNi45bC0xNy42LTAuMkw0NC4xLDk2Ljd6Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMjkuMSw5NC4yYzAtOC43LTAuMi0xNy0xLjItMjUuNGwxNy40LDBsMSwyNS40aDEuMmMzLjMtMTIuNiwxNC4xLTI2LjksMjguMy0yNi45YzUuNCwwLDkuNSwxLjQsMTIuNCwyLjcgICAgIGwwLDE2LjdjLTIuNy0xLjQtNy0yLjUtMTAuOS0yLjVjLTE4LjQsMC0yOC45LDE4LjItMjkuOCwzOC43bDAsNDMuMmgtMTguNEwxMjkuMSw5NC4yeiIvPgoJCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjQyLjYsNjYuM2MzMy4zLDAsNDcuOCwyOS40LDQ3LjgsNTEuM2MwLDI1LjgtMTYuOSw1MS43LTQ3LjgsNTEuN2MtMzAuOCwwLTQ4LjYtMjQuNi00OC42LTUxLjkgICAgIEMxOTQsOTUsMjA5LjEsNjYuMywyNDIuNiw2Ni4zeiBNMjQyLjQsMTU1LjZjMTQuOSwwLDI5LjEtMTEuOCwyOS4xLTM4LjRjMC0yNC42LTEzLjQtMzcuMi0yOS4xLTM3LjJjLTEyLjYsMC0yOS40LDguMS0yOS40LDM3LjQgICAgIEMyMTMsMTM3LjQsMjIyLjEsMTU1LjYsMjQyLjQsMTU1LjZ6Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yOTksNjguOGgxNS45bDMuMy0yOS4xbDE0LjMsMGwwLDI5LjFsMjcuNSwwbDAsMTMuOWgtMjcuNWwwLDU0LjhjMCw4LjcsNC41LDEzLjksMTMuNCwxMy45ICAgICBjNS40LDAsMTEuNC0xLjcsMTQuMS0yLjlsMCwxNC4zYy0zLjMsMi4zLTkuNyw0LjgtMTYuMyw0LjhjLTE4LjgsMC0yOS4zLTExLjItMjkuMy0zMGwwLTU1bC0xNS41LDBMMjk5LDY4Ljh6Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MTguNSw2Ni4zYzMzLjMsMCw0Ny44LDI5LjQsNDcuOCw1MS4zYzAsMjUuOC0xNi45LDUxLjctNDcuOCw1MS43Yy0zMC44LDAtNDguNi0yNC42LTQ4LjYtNTEuOSAgICAgQzM2OS45LDk1LDM4NSw2Ni4zLDQxOC41LDY2LjN6IE00MTguMywxNTUuNmMxNC45LDAsMjkuMS0xMS44LDI5LjEtMzguNGMwLTI0LjYtMTMuNC0zNy4yLTI5LjEtMzcuMmMtMTIuNiwwLTI5LjQsOC4xLTI5LjQsMzcuNCAgICAgQzM4OC45LDEzNy40LDM5OCwxNTUuNiw0MTguMywxNTUuNnoiLz4KCQkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTQ3NC45LDY4LjhoMTUuOWwzLjMtMjkuMWgxNC4zbDAsMjkuMWwyNy41LDBsMCwxMy45bC0yNy41LDBsMCw1NC44YzAsOC43LDQuNSwxMy45LDEzLjQsMTMuOSAgICAgYzUuNCwwLDExLjQtMS43LDE0LjEtMi45bDAsMTQuM2MtMy4zLDIuMy05LjcsNC44LTE2LjMsNC44Yy0xOC44LDAtMjkuMy0xMS4yLTI5LjMtMzBsMC01NWgtMTUuNUw0NzQuOSw2OC44eiIvPgoJCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNTk1LjQsMTg1LjRjLTUuOCwxNS4xLTE1LjcsMTkuOC0yNy41LDE5LjhjLTQuMSwwLTkuNS0wLjgtMTIuOC0xLjlsMC0xNS41YzIuNywxLDcuOSwxLjcsMTAuNSwxLjcgICAgIGM2LjQsMCwxMC4xLTIuMywxMi44LTcuOWMxLjktNC4xLDUtMTIuNCw1LjgtMTUuNWMxLTQuMy0xLjctNi44LTUuNi02LjZsLTM0LjktOTAuN2gyMC4xbDI3LjEsNzcuMWgxLjJsMjMuNi03Ny4xbDE5LDAgICAgIEM2MDIuNiwxNjYuMSw2MDAsMTczLjIsNTk1LjQsMTg1LjR6Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik02NjUuNywyMDMuNGgtMTguMmwwLTEyMC4zYzAtNC4xLTAuMi0xMC41LTAuNC0xNC4zaDE3YzAuMiwzLjcsMC4yLDEwLjgsMC4yLDE0LjVoMS4yICAgICBjNi42LTEwLjEsMTYuMS0xNi4zLDI4LjktMTYuM2MyNi45LDAsNDEuNSwyMy44LDQxLjUsNTAuOGMwLDI4LjEtMTQuOSw1MC44LTQwLjUsNTAuOGMtMTcuNCwwLTI2LTExLjQtMjguNy0xNS43aC0xLjIgICAgIGMwLDAsMC4yLDYuOCwwLjIsMTMuMkw2NjUuNywyMDMuNHogTTY5MC4zLDgxLjJjLTEzLjYsMC0yMy44LDE0LjEtMjQuNiwyNC4ybDAsMjMuNGMwLjQsMTAuNywxMC4xLDI1LjgsMjUuNCwyNS44ICAgICBjMTcuOCwwLDI1LjgtMTYuOSwyNS44LTM2LjhDNzE2LjksOTUuOSw3MDguMSw4MS4yLDY5MC4zLDgxLjJ6Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik03NjEuOCwxMTkuOWMwLjIsMjAuMSw5LjksMzQuOSwyOC41LDM0LjljMTIsMCwyMC45LTcuNywyMy4yLTE4LjhoMTcuOGMtMi4xLDE2LjEtMTYuNywzMi45LTQyLDMyLjkgICAgIGMtMjcuMywwLTQ1LjUtMjAuNy00NS41LTUyLjNjMC0yNy4zLDE3LTUwLjQsNDQuNC01MC40YzM1LjYsMCw0NS41LDMwLjgsNDMsNTMuN0w3NjEuOCwxMTkuOXogTTgxMy4xLDEwNi40ICAgICBjMC4yLTkuMy00LjgtMjYuOS0yNC42LTI2LjljLTEzLDAtMjQuMiw5LjUtMjYsMjcuM0w4MTMuMSwxMDYuNHoiLz4KCQk8L2c+CgkJPGc+CgkJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yNC45LDIwOS4xbDc4LjEsMGwwLDE2LjVsLTU4LjMsMGwwLDQ2LjFsNTUsMGwwLDE2LjNoLTU1bDAsNjFIMjQuOUwyNC45LDIwOS4xeiIvPgoJCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjAxLjIsMjUxLjdsMCw4MC42YzAsNC44LDAuNCwxMS42LDEuNCwxNi43aC0xOC44Yy0wLjQtNC4xLTAuNC0xMS4yLTAuMi0xNi45aC0xLjIgICAgIGMtMi4xLDQuMS0xMiwxOC4yLTMxLjYsMTguMmMtMTMsMC0zMy4xLTcuMi0zMy4xLTM2LjZsMC02MmgxOC42bDAsNjIuMmMwLDEyLjgsNS44LDIxLjcsMTguNCwyMS43YzEzLjIsMCwyNC42LTExLjYsMjcuNy0yOC41ICAgICBsMC01NS40SDIwMS4yeiIvPgoJCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjE5LjIsMjY4LjNjMC00LjgtMC4yLTExLTEtMTYuN0gyMzdsMCwxNi43aDEuMmMyLjUtNC41LDEzLjItMTguNiwzMS40LTE4LjZjMTEuNiwwLDMyLjIsNi40LDMyLjIsMzUuOCAgICAgbDAsNjMuM2gtMTguNmwwLTYzLjdjMC0xMy40LTYtMjEuMy0xNy0yMS4zYy0xMy40LDAtMjQuNiwxMi40LTI4LjUsMjguNWwwLDU2LjZoLTE4LjRMMjE5LjIsMjY4LjN6Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zODMuNywyMDkuMWgxOC4ybDAsMTI1LjVjMCw0LjEsMCwxMC41LDAuNCwxNC4zbC0xNi41LDBjLTAuMi00LjEtMC4yLTEwLjEtMC4yLTE0LjNoLTEuMiAgICAgYy02LjYsMTAuMS0xNi4xLDE2LjEtMjguOSwxNi4xYy0yNy4zLDAtNDItMjMuOC00Mi01MC44YzAtMjguMSwxNC45LTUwLjgsNDAuNS01MC44YzE3LjQsMCwyNiwxMS40LDI4LjcsMTUuN2gxLjIgICAgIGMwLDAtMC4yLTYuNi0wLjItMTMuMkwzODMuNywyMDkuMXogTTM1OS4zLDMzNi41YzEzLjYsMCwyMy42LTEzLjksMjQuNC0yNGwwLTIzLjZjLTAuNC0xMC43LTEwLjEtMjUuOC0yNS40LTI1LjggICAgIGMtMTcuOCwwLTI1LjgsMTYuOS0yNS44LDM2LjhDMzMyLjUsMzIxLjgsMzQxLjQsMzM2LjUsMzU5LjMsMzM2LjV6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJFYmVuZV8xIj4KPC9nPgo8L3N2Zz4=",null)))))))))},we=n(839),he=n(822),Oe=function(e){var t=e.html;return a.a.createElement("p",{dangerouslySetInnerHTML:{__html:t}})},Ne=function(e){var t=e.page,n=Object(c.i)((function(e){return e.pages})).selectPage;return a.a.createElement(je.a,{className:"Page"},a.a.createElement(we.a,null,a.a.createElement(we.a.Section,{link:!0,onClick:function(){return n()}},"A & C"),a.a.createElement(we.a.Divider,null),a.a.createElement(we.a.Section,{active:!0},t.title)),a.a.createElement(he.a,null),a.a.createElement(Oe,{html:t.content}))},Ce=(n(408),n(127)),Ee=n(835),Ie=n(823);function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Se=function(){var e=Object(c.i)((function(e){return e.document.loadDocument})),t=Object(c.j)((function(e){return e.document.isLoading})),n=Object(r.useCallback)((function(t){return e(t[0])}),[e]),o=Object(Ce.a)({onDrop:n}),i=o.getRootProps,u=o.getInputProps,l=o.isDragActive;return a.a.createElement("div",De({className:"DocumentLoader"},i()),a.a.createElement(je.a,{placeholder:!0},t?a.a.createElement(Ee.a,{active:!0,inverted:!0},a.a.createElement(Ie.a,{inverted:!0},"Loading")):a.a.createElement($.a,{icon:!0},a.a.createElement(ne.a,{name:"pdf file outline"}),a.a.createElement("input",u()),l?a.a.createElement("p",null,"Drop the file here ..."):a.a.createElement("p",null,"Drag 'n' drop a document here, or click to select a file. Currently only PDF is supported."))))},Te=n(831),xe=n(272),Ae=n(825);function Pe(){return a.a.createElement(Ee.a,{active:!0,inverted:!0},a.a.createElement(Ie.a,{inverted:!0},"Loading"))}var ze=n(824),ke=function(){var e=Object(c.j)((function(e){return e.document})),t=e.pagesNum,n=e.renderedPages,r=e.renderPagesComplete,o=e.data,i=Object(c.i)((function(e){return e.document})).clear;return a.a.createElement(ae.a,{basic:!0,open:o.file&&!r,size:"small",dimmer:"blurring"},a.a.createElement($.a,{icon:!0},a.a.createElement(ne.a,{name:"paint brush",loading:!0}),"Rendering ".concat(t," pages")),a.a.createElement(ae.a.Content,null,a.a.createElement(ze.a,{value:n,total:t,progress:"ratio",indicating:!0})),a.a.createElement(ae.a.Actions,null,a.a.createElement(te.a,{basic:!0,color:"red",inverted:!0,onClick:function(){return i()}},a.a.createElement(ne.a,{name:"remove"})," Cancel")))},Ye=n(828),Qe=n(437),Ue=n.n(Qe),Ge=(n(798),function(e){var t,n=e.data,r=Object(c.i)((function(e){return e.annotations})).deleteAnnotation,o=Object(c.i)((function(e){return e.ui.annotations})).hilight,i=Object(c.j)((function(e){return e.ui.annotations})).hilighted,u=Object(c.j)((function(e){return e.user})),l=u.email,s=u.color,f=u.otherUsers,m=l===n.email,d=m?"Me":"".concat(n.firstName," ").concat(n.lastName),p=S(m?s:(null===(t=f[n.email])||void 0===t?void 0:t.color)||D()),g=new Date(n.date),j=Ue()("Annotation",{"Annotation--hilighted":i===n.id});return a.a.createElement(Ye.a,{className:j,onMouseOver:function(){return o(n.id)},onMouseOut:function(){return o(null)}},a.a.createElement(Ye.a.Content,null,a.a.createElement(Ye.a.Author,{style:{color:p}},d),a.a.createElement(Ye.a.Metadata,null,g.toDateString()," ",g.toLocaleTimeString()),a.a.createElement(Ye.a.Text,null,n.body),a.a.createElement(Ye.a.Actions,null,a.a.createElement(Ye.a.Action,{onClick:function(){return r(n)}},a.a.createElement(ne.a,{name:"trash"}),"Delete"))))}),Fe=function(e){var t=e.annotations;return(null==t?void 0:t.length)>0&&a.a.createElement(je.a,{className:"Annotations"},a.a.createElement(Ye.a.Group,null,t.map((function(e){return a.a.createElement(Ge,{key:e.id,data:e})}))))};function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return He(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xe=function(e){var t,n=e.annotation,r=e.hilighted,o=Object(c.j)((function(e){return e.user})),i=o.email,u=o.color,l=o.otherUsers,s=Object(c.i)((function(e){return e.ui.annotations})).hilight,f=i===n.email?u:(null===(t=l[n.email])||void 0===t?void 0:t.color)||D(),m=Be(n.reference.location,4),d=m[0],p=m[1],g=m[2],j=m[3],y={display:"block",position:"absolute",border:r?"2px solid ".concat(S(f)):null,background:S(Je(Je({},f),{},{a:.1})),top:"".concat(p,"%"),left:"".concat(d,"%"),width:"".concat(g-d,"%"),height:"".concat(j-p,"%")};return a.a.createElement("div",{className:"AnnotationLocation",style:y,onMouseOver:function(){return s(n.id)},onMouseOut:function(){return s(null)}})};n(800),n(802);function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qe=function(e){var t=e.options,n=e.file,o=Object(c.j)((function(e){return e.annotations.current})),i=Object(c.j)((function(e){return e.ui.annotations})).hilighted,u=Object(c.i)((function(e){return e.ui})),l=u.annotationForm,s=u.draw,f=Object(c.i)((function(e){return e.reference.updateRef})),m=Object(c.j)((function(e){return e.document})).pagesNum,d=Object(c.i)((function(e){return e.document})),p=d.setPagesNum,g=d.incrementRenderedPages,j=Object(r.createRef)(),y=Ke(Object(r.useState)({isDrawing:!1,width:null,height:null,offsetX:null,offsetY:null,page:1}),2),b=y[0],M=y[1],L=Object(r.useRef)(b),v=function(e){e=We(We({},L.current),e),L.current=e,M(e)};return a.a.createElement("div",{className:"PdfViewer"},a.a.createElement(xe.Document,{ref:j,file:n,loading:Pe,onLoadSuccess:function(e){var t=e.numPages;return p(t)},options:t},Array.from(new Array(m),(function(e,t){var n,c=t+1,u=Object(r.createRef)();return a.a.createElement(xe.Page,{key:"page_".concat(c),pageNumber:c,loading:Pe,onRenderSuccess:function(e){return function(e,t){var n=Ke(e._pageInfo.view.slice(2),2),r=n[0],a=n[1],o=t.current;o.height=a,o.width=r;var i=o.getContext("2d"),c=j.current.pages[e.pageIndex];c.addEventListener("mousedown",(function(t){var n=t.target,r=t.offsetX,a=t.offsetY;n===o&&(l.toggle(!1),s.setActiveCanvas(o),v({startX:r,startY:a,endX:r,endY:a,isDrawing:!0,page:e.pageIndex+1,height:n.height,width:n.width}))})),c.addEventListener("mouseup",(function(e){var t=e.target,n=e.pageX,r=e.pageY,a=e.offsetX,i=e.offsetY;t===o&&(l.toggle(!0),l.setPosition([r,n]),v({isDrawing:!1,endX:a,endY:i}),f({location:F(L.current),page:L.current.page}))})),c.addEventListener("mousemove",(function(e){var t=e.target,n=e.offsetX,r=e.offsetY;if(t===o&&L.current.isDrawing){var a=L.current,c=a.startX,u=a.startY,l=c<n?c:n,s=u<r?u:r,f=Math.abs(n-c),m=Math.abs(r-u);G(o),function(e){var t=e.ctx,n=e.x,r=e.y,a=e.rectWidth,o=e.rectHeight;t.beginPath(),t.rect(n,r,a,o),t.stroke()}({ctx:i,x:l,y:s,rectWidth:f,rectHeight:m})}})),g()}(e,u)},renderAnnotationLayer:!1,renderTextLayer:!1},a.a.createElement("canvas",{className:"DrawRect",ref:u}),(n=c,o.filter((function(e){return e.reference.page===n})).map((function(e){return a.a.createElement(Xe,{key:e.id,annotation:e,hilighted:i===e.id})}))),a.a.createElement(Ae.a,{position:"right"},a.a.createElement(Fe,{annotations:o.filter((function(e){return e.reference.page===c}))})))}))),a.a.createElement(ke,null))},et=(n(804),function(e){var t=e.file;return a.a.createElement(je.a,{basic:!0,className:"DocumentViewer"},function(e){var t=e.type;return"application/pdf"===t?a.a.createElement(qe,{file:e}):a.a.createElement(Te.a,{negative:!0,icon:!0},a.a.createElement(ne.a,{name:"warning"}),a.a.createElement(Te.a.Content,null,a.a.createElement(Te.a.Header,null,"Unsupported file format: ",t),a.a.createElement("p",null,"Sorry, currently only PDF is supported.")))}(t))}),tt=n(819);n(806);function nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var at=function(){var e=Object(c.i)((function(e){return e.annotations})).createAnnotation,t=Object(c.i)((function(e){return e.ui})),n=t.annotationForm,o=t.draw,i=nt(Object(c.j)((function(e){return e.ui.annotationForm.position})),2),u=i[0],l=i[1],s=Object(c.j)((function(e){return e.reference})).reference,f=nt(Object(r.useState)(""),2),m=f[0],d=f[1],p={position:"absolute",zIndex:1e3,top:u,left:l};return a.a.createElement(je.a,{className:"AnnotationForm",raised:!0,style:p},a.a.createElement(te.a,{className:"AnnotationForm__close-button",circular:!0,size:"mini",icon:"close",color:"red",onClick:function(){return n.toggle(!1)&&o.clearCanvas()}}),a.a.createElement(re.a,{className:"AnnotationForm__form"},a.a.createElement(tt.a,{autoFocus:!0,value:m,onChange:function(e){return d(e.target.value)}}),a.a.createElement(te.a,{fluid:!0,primary:!0,onClick:function(){return e({body:m,reference:s})&&d("")}},"Save")))},ot=n(818);function it(){return(it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ut(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lt=function(){var e=ct(Object(r.useState)(!1),2),t=e[0],n=e[1],o=Object(r.useRef)(t),i=Object(c.i)((function(e){return e.annotations.importCsv})),u=Object(c.j)((function(e){return e.annotations.isLoadingCsv})),l=Object(r.useCallback)((function(e){return i({file:e[0],replace:o.current})}),[i]),s=Object(Ce.a)({onDrop:l}),f=s.getRootProps,m=s.getInputProps,d=s.isDragActive;return a.a.createElement("div",{className:"CsvImporter"},a.a.createElement("div",it({className:"CsvImporter__dropzone"},f()),a.a.createElement(je.a,{placeholder:!0},u?a.a.createElement(Ee.a,{active:!0,inverted:!0},a.a.createElement(Ie.a,{inverted:!0},"Loading")):a.a.createElement($.a,{icon:!0},a.a.createElement(ne.a,{name:"file outline"}),a.a.createElement("input",m()),d?a.a.createElement("p",null,"Drop the file here ..."):a.a.createElement("p",null,"Drag 'n' drop a csv file here, or click to select a file")))),a.a.createElement(ot.a,{label:"Replace existing annotations (instead of merging)",checked:t,onChange:function(){return n(!t)}}))},st=function(e){var t=e.children,n=e.open,r=e.setOpen;return a.a.createElement(ae.a,{onClose:function(){return r(!1)},onOpen:function(){return r(!0)},open:n,dimmer:"blurring"},a.a.createElement(ae.a.Header,null,"Import annotations from csv"),a.a.createElement(ae.a.Content,null,t))},ft=function(){var e=Object(c.j)((function(e){return e.document.data})).file,t=Object(c.j)((function(e){return e.pages})).activePage,n=Object(c.j)((function(e){return e.ui.annotationForm.show})),r=Object(c.j)((function(e){return e.ui.importer.show})),o=Object(c.i)((function(e){return e.ui.importer.toggle}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(K.a,null,a.a.createElement(ge,null),t?a.a.createElement(Ne,{page:t}):a.a.createElement(a.a.Fragment,null,n&&a.a.createElement(at,null),e?a.a.createElement(et,{file:e}):a.a.createElement(Se,null)),a.a.createElement(st,{open:r,setOpen:o},a.a.createElement(lt,null))),a.a.createElement(ve,{toBottom:!e}))};i.a.render(a.a.createElement(c.a,{store:V},a.a.createElement(ft,null)),document.getElementById("root"))}});